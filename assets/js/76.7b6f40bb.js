(window.webpackJsonp=window.webpackJsonp||[]).push([[76],{537:function(t,s,a){"use strict";a.r(s);var n=a(0),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"更新"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#更新"}},[t._v("#")]),t._v(" 更新")]),t._v(" "),s("p",[t._v("站点更换为 vuepress-theme-reco 主题。自动分类和标签聚合，以及分页和评论。")]),t._v(" "),s("p",[t._v("有些注意事项：")]),t._v(" "),s("ol",[s("li",[t._v("不使用一级标题，使用 yaml 来编辑元数据。日期中要注意前面补齐 0。")])]),t._v(" "),s("div",{staticClass:"language-yaml line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-yaml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("---")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("title")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Node 爬虫编写\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("date")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token datetime number"}},[t._v("2019-05-18")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("tags")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" Node.js\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("categories")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" 技术\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("---")]),t._v("\n\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br")])]),s("ol",{attrs:{start:"2"}},[s("li",[s("p",[t._v("评论使用 Valine")])]),t._v(" "),s("li",[s("p",[t._v("编译结果在"),s("code",[t._v("/public/")]),t._v("，而非"),s("code",[t._v("docs/.vuepress/dist")])])]),t._v(" "),s("li",[s("p",[t._v("Github Action 脚本可用，只要 push blog 分支，自动将生成静态文件文件写入 master 分支，Page 直接访问。同时支持使用 scp 静态复制文件到服务器。")])])]),t._v(" "),s("h2",{attrs:{id:"相关命令"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#相关命令"}},[t._v("#")]),t._v(" 相关命令")]),t._v(" "),s("p",[t._v("没有安装 yarn 的，把以下命令中的 yarn 替换为 npm run")]),t._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 安装依赖")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 本地启动")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" dev\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 编译")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" build\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 编译为非根目录站点 （还需修改package.json中的script中的参数）")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" buildSubpath\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 自动上传静态部署文件")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" autopush\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br")])]),s("h2",{attrs:{id:"其他说明"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#其他说明"}},[t._v("#")]),t._v(" 其他说明")]),t._v(" "),s("p",[t._v("使用 vuepress 创建 SEO 友好的静态文章站。一键发布到 github page，内置 github action 自动部署脚本。")]),t._v(" "),s("p",[t._v("vuepress 通过一定"),s("em",[t._v("号称简单")]),t._v("的配置之后，为每一个 md 文件生成静态 html 脚本，并通过主题挂接起来。用来写文档是非常不错的。写文章就要做一点工作，踩"),s("strong",[t._v("一点")]),t._v("坑。")]),t._v(" "),s("p",[s("a",{attrs:{href:"http://www.codingyang.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("demo 演示"),s("OutboundLink")],1)]),t._v(" "),s("p",[s("a",{attrs:{href:"https://github.com/Rackar/rackar.github.io",target:"_blank",rel:"noopener noreferrer"}},[t._v("github 源码"),s("OutboundLink")],1)]),t._v(" "),s("h4",{attrs:{id:"注意-yaml"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#注意-yaml"}},[t._v("#")]),t._v(" 注意 yaml")]),t._v(" "),s("p",[t._v("必须放在 md 文件在最上方才能生效")]),t._v(" "),s("h4",{attrs:{id:"无法热更新"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#无法热更新"}},[t._v("#")]),t._v(" 无法热更新")]),t._v(" "),s("p",[t._v("修改 config.js 后，是没办法热更新的，只能 ctrl+c 结束任务然后重新 yarn dev")]),t._v(" "),s("h4",{attrs:{id:"百度统计代码"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#百度统计代码"}},[t._v("#")]),t._v(" 百度统计代码")]),t._v(" "),s("p",[t._v("增加了一个 utils/db_hm.js 脚本，在 build 之后手动复制统计代码到首页 index.html 中。请自行从百度申请统计和推送链接代码。")]),t._v(" "),s("h4",{attrs:{id:"使用-github-aciton-自动发布到-github-page"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用-github-aciton-自动发布到-github-page"}},[t._v("#")]),t._v(" 使用 Github Aciton 自动发布到 Github Page")]),t._v(" "),s("p",[t._v("开启项目 action。")]),t._v(" "),s("p",[t._v("开启 page。并使用 master 分支为 Page 源地址。")]),t._v(" "),s("p",[t._v("设置 secret。在"),s("a",{attrs:{href:"https://github.com/settings/tokens",target:"_blank",rel:"noopener noreferrer"}},[t._v("Settings-tTokens"),s("OutboundLink")],1),t._v("里选择第一项 repo 生成 token，复制 token 到项目 Settings-Secrets 下新建的"),s("code",[t._v("ACCESS_TOKEN")]),t._v("中")]),t._v(" "),s("p",[t._v("然后 git push 就好，CI 脚本自动发布。")]),t._v(" "),s("p",[t._v("如果要发布到"),s("strong",[t._v("非根目录")]),t._v("。要 修改 package.json 中 "),s("code",[t._v("buildSubpath")]),t._v(" 命令里的两处： "),s("code",[t._v("VUEPRESS_BASE=/codingyang/")]),t._v(" 中的 "),s("code",[t._v("codingyang")]),t._v(" 替换为自己要部署的子目录名。然后修改 Action 脚本 "),s("code",[t._v("nodejs.yml")]),t._v(" 中最后一行脚本中的 "),s("code",[t._v("npm run build")]),t._v(" 为 "),s("code",[t._v("npm run buildSubpath")]),t._v(" 。")]),t._v(" "),s("h2",{attrs:{id:"相关技术"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#相关技术"}},[t._v("#")]),t._v(" 相关技术")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://v1.vuepress.vuejs.org/zh/guide/",target:"_blank",rel:"noopener noreferrer"}},[t._v("vuepress"),s("OutboundLink")],1)]),t._v(" "),s("p",[s("a",{attrs:{href:"https://vuepress-theme-reco.recoluan.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("主题文档"),s("OutboundLink")],1)])])}),[],!1,null,null,null);s.default=e.exports}}]);