(window.webpackJsonp=window.webpackJsonp||[]).push([[62],{572:function(a,t,e){"use strict";e.r(t);var n=e(4),s=Object(n.a)({},(function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[e("p",[a._v("测试了各种写法，报 500 错误，连问题在哪都找不到。")]),a._v(" "),e("p",[a._v("简直都要放弃了，发现原来是 node 服务器用的 multer 问题。")]),a._v(" "),e("p",[a._v("服务端用了:")]),a._v(" "),e("p",[e("code",[a._v("apiRoutes.post('/uploadimage', upload.single('avatar'), uploadImage)")])]),a._v(" "),e("p",[a._v("这种鬼写法，指定了类型名称为 avatar。")]),a._v(" "),e("p",[a._v("那在前端上传时，必须要用同名的方式：")]),a._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v('let data = new FormData();\ndata.append("avatar", file.file);\nlet config = {\n        headers: {\n          "Content-Type": "multipart/form-data"\n        }\n      };\n')])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br"),e("span",{staticClass:"line-number"},[a._v("4")]),e("br"),e("span",{staticClass:"line-number"},[a._v("5")]),e("br"),e("span",{staticClass:"line-number"},[a._v("6")]),e("br"),e("span",{staticClass:"line-number"},[a._v("7")]),e("br")])]),e("p",[a._v("参考：\nhttps://blog.csdn.net/qq_37540004/article/details/60963039")])])}),[],!1,null,null,null);t.default=s.exports}}]);