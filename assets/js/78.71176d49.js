(window.webpackJsonp=window.webpackJsonp||[]).push([[78],{540:function(a,t,n){"use strict";n.r(t);var s=n(0),e=Object(s.a)({},(function(){var a=this,t=a._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("p",[a._v("测试了各种写法，报 500 错误，连问题在哪都找不到。")]),a._v(" "),t("p",[a._v("简直都要放弃了，发现原来是 node 服务器用的 multer 问题。")]),a._v(" "),t("p",[a._v("服务端用了:")]),a._v(" "),t("p",[t("code",[a._v("apiRoutes.post('/uploadimage', upload.single('avatar'), uploadImage)")])]),a._v(" "),t("p",[a._v("这种鬼写法，指定了类型名称为 avatar。")]),a._v(" "),t("p",[a._v("那在前端上传时，必须要用同名的方式：")]),a._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('let data = new FormData();\ndata.append("avatar", file.file);\nlet config = {\n        headers: {\n          "Content-Type": "multipart/form-data"\n        }\n      };\n')])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br"),t("span",{staticClass:"line-number"},[a._v("7")]),t("br")])]),t("p",[a._v("参考：\nhttps://blog.csdn.net/qq_37540004/article/details/60963039")])])}),[],!1,null,null,null);t.default=e.exports}}]);